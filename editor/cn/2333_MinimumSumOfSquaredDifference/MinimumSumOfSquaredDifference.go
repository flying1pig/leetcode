package main

import "slices"

/**
ç»™ä½ ä¸¤ä¸ªä¸‹æ ‡ä»Ž 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„ nums1 å’Œ nums2 ï¼Œé•¿åº¦ä¸º n ã€‚

 æ•°ç»„ nums1 å’Œ nums2 çš„ å·®å€¼å¹³æ–¹å’Œ å®šä¹‰ä¸ºæ‰€æœ‰æ»¡è¶³ 0 <= i < n çš„ (nums1[i] - nums2[i])Â² ä¹‹å’Œã€‚

 åŒæ—¶ç»™ä½ ä¸¤ä¸ªæ­£æ•´æ•° k1 å’Œ k2 ã€‚ä½ å¯ä»¥å°† nums1 ä¸­çš„ä»»æ„å…ƒç´  +1 æˆ–è€… -1 è‡³å¤š k1 æ¬¡ã€‚ç±»ä¼¼çš„ï¼Œä½ å¯ä»¥å°† nums2 ä¸­çš„ä»»æ„å…ƒç´  +1
æˆ–è€… -1 è‡³å¤š k2 æ¬¡ã€‚

 è¯·ä½ è¿”å›žä¿®æ”¹æ•°ç»„ nums1 è‡³å¤š k1 æ¬¡ä¸”ä¿®æ”¹æ•°ç»„ nums2 è‡³å¤š k2 æ¬¡åŽçš„æœ€å° å·®å€¼å¹³æ–¹å’Œ ã€‚

 æ³¨æ„ï¼šä½ å¯ä»¥å°†æ•°ç»„ä¸­çš„å…ƒç´ å˜æˆ è´Ÿ æ•´æ•°ã€‚



 ç¤ºä¾‹ 1ï¼š

 è¾“å…¥ï¼šnums1 = [1,2,3,4], nums2 = [2,10,20,19], k1 = 0, k2 = 0
è¾“å‡ºï¼š579
è§£é‡Šï¼šnums1 å’Œ nums2 ä¸­çš„å…ƒç´ ä¸èƒ½ä¿®æ”¹ï¼Œå› ä¸º k1 = 0 å’Œ k2 = 0 ã€‚
å·®å€¼å¹³æ–¹å’Œä¸ºï¼š(1 - 2)2 + (2 - 10)2 + (3 - 20)2 + (4 - 19)Â²Â = 579 ã€‚


 ç¤ºä¾‹ 2ï¼š

 è¾“å…¥ï¼šnums1 = [1,4,10,12], nums2 = [5,8,6,9], k1 = 1, k2 = 1
è¾“å‡ºï¼š43
è§£é‡Šï¼šä¸€ç§å¾—åˆ°æœ€å°å·®å€¼å¹³æ–¹å’Œçš„æ–¹å¼ä¸ºï¼š
- å°† nums1[0] å¢žåŠ ä¸€æ¬¡ã€‚
- å°† nums2[2] å¢žåŠ ä¸€æ¬¡ã€‚
æœ€å°å·®å€¼å¹³æ–¹å’Œä¸ºï¼š
(2 - 5)2 + (4 - 8)2 + (10 - 7)2 + (12 - 9)Â²Â = 43 ã€‚
æ³¨æ„ï¼Œä¹Ÿæœ‰å…¶ä»–æ–¹å¼å¯ä»¥å¾—åˆ°æœ€å°å·®å€¼å¹³æ–¹å’Œï¼Œä½†æ²¡æœ‰å¾—åˆ°æ¯” 43 æ›´å°ç­”æ¡ˆçš„æ–¹æ¡ˆã€‚



 æç¤ºï¼š


 n == nums1.length == nums2.length
 1 <= n <= 10âµ
 0 <= nums1[i], nums2[i] <= 10âµ
 0 <= k1, k2 <= 10â¹


 Related Topics è´ªå¿ƒ æ•°ç»„ äºŒåˆ†æŸ¥æ‰¾ æŽ’åº å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰ ðŸ‘ 47 ðŸ‘Ž 0

*/

/*
é¢˜åž‹: è´ªå¿ƒ
é¢˜ç›®: æœ€å°å·®å€¼å¹³æ–¹å’Œ
*/

// leetcode submit region begin(Prohibit modification and deletion)
func minSumSquareDiff(a, nums2 []int, k1, k2 int) int64 {
	ans, sum := 0, 0
	for i, v := range a {
		a[i] = abs(v - nums2[i])
		sum += a[i]
		ans += a[i] * a[i]
	}
	k := k1 + k2
	if sum <= k {
		return 0 // æ‰€æœ‰ a[i] å‡å¯ä¸º 0
	}

	slices.SortFunc(a, func(a, b int) int { return b - a })
	a = append(a, 0) // å“¨å…µ
	for i, v := range a {
		i++
		ans -= v * v // æ’¤é”€ä¸Šé¢çš„ ans += a[i] * a[i]
		if c := i * (v - a[i]); c < k {
			k -= c
			continue
		}
		v -= k / i
		ans += k%i*(v-1)*(v-1) + (i-k%i)*v*v
		break
	}
	return int64(ans)
}

func abs(x int) int {
	if x < 0 {
		return -x
	}
	return x
}

//leetcode submit region end(Prohibit modification and deletion)

func main() {

}
