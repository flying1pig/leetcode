package main

/**
å­˜åœ¨ä¸€ä¸ªä¸å« 0 çš„ ç¯å½¢ æ•°ç»„ nums ï¼Œæ¯ä¸ª nums[i] éƒ½è¡¨ç¤ºä½äºä¸‹æ ‡ i çš„è§’è‰²åº”è¯¥å‘å‰æˆ–å‘åç§»åŠ¨çš„ä¸‹æ ‡ä¸ªæ•°ï¼š


 å¦‚æœ nums[i] æ˜¯æ­£æ•°ï¼Œå‘å‰ï¼ˆä¸‹æ ‡é€’å¢æ–¹å‘ï¼‰ç§»åŠ¨ |nums[i]| æ­¥
 å¦‚æœ nums[i] æ˜¯è´Ÿæ•°ï¼Œå‘åï¼ˆä¸‹æ ‡é€’å‡æ–¹å‘ï¼‰ç§»åŠ¨ |nums[i]| æ­¥


 å› ä¸ºæ•°ç»„æ˜¯ ç¯å½¢ çš„ï¼Œæ‰€ä»¥å¯ä»¥å‡è®¾ä»æœ€åä¸€ä¸ªå…ƒç´ å‘å‰ç§»åŠ¨ä¸€æ­¥ä¼šåˆ°è¾¾ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè€Œç¬¬ä¸€ä¸ªå…ƒç´ å‘åç§»åŠ¨ä¸€æ­¥ä¼šåˆ°è¾¾æœ€åä¸€ä¸ªå…ƒç´ ã€‚

 æ•°ç»„ä¸­çš„ å¾ªç¯ ç”±é•¿åº¦ä¸º k çš„ä¸‹æ ‡åºåˆ— seq æ ‡è¯†ï¼š


 éµå¾ªä¸Šè¿°ç§»åŠ¨è§„åˆ™å°†å¯¼è‡´ä¸€ç»„é‡å¤ä¸‹æ ‡åºåˆ— seq[0] -> seq[1] -> ... -> seq[k - 1] -> seq[0] -> ...
 æ‰€æœ‰ nums[seq[j]] åº”å½“ä¸æ˜¯ å…¨æ­£ å°±æ˜¯ å…¨è´Ÿ
 k > 1


 å¦‚æœ nums ä¸­å­˜åœ¨å¾ªç¯ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚



 ç¤ºä¾‹ 1ï¼š


è¾“å…¥ï¼šnums = [2,-1,1,2,2]
è¾“å‡ºï¼štrue
è§£é‡Šï¼šå›¾ç‰‡å±•ç¤ºäº†èŠ‚ç‚¹é—´å¦‚ä½•è¿æ¥ã€‚ç™½è‰²èŠ‚ç‚¹å‘å‰è·³è·ƒï¼Œè€Œçº¢è‰²èŠ‚ç‚¹å‘åè·³è·ƒã€‚
æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å­˜åœ¨å¾ªç¯ï¼ŒæŒ‰ä¸‹æ ‡ 0 -> 2 -> 3 -> 0 --> ...ï¼Œå¹¶ä¸”å…¶ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ç™½è‰²ï¼ˆä»¥ç›¸åŒæ–¹å‘è·³è·ƒï¼‰ã€‚


 ç¤ºä¾‹ 2ï¼š


è¾“å…¥ï¼šnums = [-1,-2,-3,-4,-5,6]
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šå›¾ç‰‡å±•ç¤ºäº†èŠ‚ç‚¹é—´å¦‚ä½•è¿æ¥ã€‚ç™½è‰²èŠ‚ç‚¹å‘å‰è·³è·ƒï¼Œè€Œçº¢è‰²èŠ‚ç‚¹å‘åè·³è·ƒã€‚
å”¯ä¸€çš„å¾ªç¯é•¿åº¦ä¸º 1ï¼Œæ‰€ä»¥è¿”å› falseã€‚


 ç¤ºä¾‹ 3ï¼š


è¾“å…¥ï¼šnums = [1,-1,5,1,4]
è¾“å‡ºï¼štrue
è§£é‡Šï¼šå›¾ç‰‡å±•ç¤ºäº†èŠ‚ç‚¹é—´å¦‚ä½•è¿æ¥ã€‚ç™½è‰²èŠ‚ç‚¹å‘å‰è·³è·ƒï¼Œè€Œçº¢è‰²èŠ‚ç‚¹å‘åè·³è·ƒã€‚
æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å­˜åœ¨å¾ªç¯ï¼ŒæŒ‰ä¸‹æ ‡ 0 --> 1 --> 0 --> ...ï¼Œå½“å®ƒçš„å¤§å°å¤§äº 1 æ—¶ï¼Œå®ƒæœ‰ä¸€ä¸ªå‘å‰è·³çš„èŠ‚ç‚¹å’Œä¸€ä¸ªå‘åè·³çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥ å®ƒä¸æ˜¯ä¸€ä¸ªå¾ªç¯ã€‚

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å­˜åœ¨å¾ªç¯ï¼ŒæŒ‰ä¸‹æ ‡ 3 --> 4 --> 3 --> ...ï¼Œå¹¶ä¸”å…¶ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ç™½è‰²ï¼ˆä»¥ç›¸åŒæ–¹å‘è·³è·ƒï¼‰ã€‚




 æç¤ºï¼š


 1 <= nums.length <= 5000
 -1000 <= nums[i] <= 1000
 nums[i] != 0




 è¿›é˜¶ï¼šä½ èƒ½è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(n) ä¸”é¢å¤–ç©ºé—´å¤æ‚åº¦ä¸º O(1) çš„ç®—æ³•å—ï¼Ÿ

 Related Topics æ•°ç»„ å“ˆå¸Œè¡¨ åŒæŒ‡é’ˆ ğŸ‘ 217 ğŸ‘ 0

*/

/*
é¢˜å‹: é“¾è¡¨
é¢˜ç›®: ç¯å½¢æ•°ç»„æ˜¯å¦å­˜åœ¨å¾ªç¯
*/

// leetcode submit region begin(Prohibit modification and deletion)
func circularArrayLoop(nums []int) bool {
	n := len(nums)
	next := func(cur int) int {
		return ((cur+nums[cur])%n + n) % n // ä¿è¯è¿”å›å€¼åœ¨ [0,n) ä¸­
	}

	for i, num := range nums {
		if num == 0 {
			continue
		}
		slow, fast := i, next(i)
		// åˆ¤æ–­éé›¶ä¸”æ–¹å‘ç›¸åŒ
		for nums[slow]*nums[fast] > 0 && nums[slow]*nums[next(fast)] > 0 {
			if slow == fast {
				if slow == next(slow) {
					break
				}
				return true
			}
			slow = next(slow)
			fast = next(next(fast))
		}
		add := i
		for nums[add]*nums[next(add)] > 0 {
			tmp := add
			add = next(add)
			nums[tmp] = 0
		}
	}
	return false
}

//leetcode submit region end(Prohibit modification and deletion)

func main() {

}
